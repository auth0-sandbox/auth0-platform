extends layout

mixin token(token, type, title)
    li.dropdown
        img.dropbtn(height="40px",src=`/images/icon-${type}.svg`)
        .dropdown-content
            h4 #{`\u00A0 ${title}`}
            a(href='javascript:;', onclick=`navigator.clipboard.writeText("${token}")`)
                img(height="20px" src="/images/clipboard_indigo.png" alt="Copy")
                |
                | Copy
            a(target='_blank',href=`https://jwt.io#token=${token}`)
                img(height="20px" src="/images/jwt.svg" alt="Inspect")
                |
                | Inspect

block content
    .content
        h1 Acme FM Backend for Frontend API
        a(href='/') Home
        span #{'\u00A0\u00A0'}
        a(href='/acme/logout?post_logout_redirect_uri=/') Logout
        if id_token
            h3 #{name}
            ul.token-set
                li
                    h4 Tokens:
                if id_token
                    +token(id_token, 'id-token', 'ID Token')
                if access_token
                    +token(access_token, 'access-token', 'Access Token')
                if refresh_token
                    +token(refresh_token, 'refresh-token', 'Refresh Token')